{"id":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","dependencies":[{"name":"/Users/hewang/Workspace/draft-js-collaborative-editor/package.json","includedInParent":true,"mtime":1560851513149},{"name":"/Users/hewang/Workspace/draft-js-collaborative-editor/.babelrc","includedInParent":true,"mtime":1560672359965},{"name":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/package.json","includedInParent":true,"mtime":1560765964642},{"name":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/.babelrc","includedInParent":true,"mtime":499162500000},{"name":"draft-js","loc":{"line":7,"column":23},"parent":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","resolved":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js/lib/Draft.js"},{"name":"./modifiers/addBlock","loc":{"line":9,"column":24},"parent":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","resolved":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/modifiers/addBlock.js"},{"name":"./modifiers/removeBlock","loc":{"line":13,"column":27},"parent":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","resolved":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/modifiers/removeBlock.js"},{"name":"./constants","loc":{"line":17,"column":25},"parent":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","resolved":"/Users/hewang/Workspace/draft-js-collaborative-editor/node_modules/draft-js-drag-n-drop-plugin/lib/constants/index.js"}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _draftJs = require('draft-js');\n\nvar _addBlock = require('./modifiers/addBlock');\n\nvar _addBlock2 = _interopRequireDefault(_addBlock);\n\nvar _removeBlock = require('./modifiers/removeBlock');\n\nvar _removeBlock2 = _interopRequireDefault(_removeBlock);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (selection, dataTransfer, isInternal, _ref) {\n  var getEditorState = _ref.getEditorState,\n      setEditorState = _ref.setEditorState;\n\n  var editorState = getEditorState();\n\n  // Get data 'text' (anything else won't move the cursor) and expecting kind of data (text/key)\n  var raw = dataTransfer.data.getData('text');\n  var data = raw ? raw.split(':') : [];\n\n  if (data.length !== 2) {\n    return undefined;\n  }\n\n  // Existing block dropped\n  if (data[0] === _constants.DRAFTJS_BLOCK_KEY) {\n    var blockKey = data[1];\n\n    // Get content, selection, block\n    var contentState = editorState.getCurrentContent();\n    var block = contentState.getBlockForKey(blockKey);\n    var entity = contentState.getEntity(block.getEntityAt(0));\n    var contentStateAfterInsert = (0, _addBlock2.default)(editorState, selection, block.getType(), entity.data, entity.type);\n    var contentStateAfterRemove = (0, _removeBlock2.default)(contentStateAfterInsert, blockKey);\n\n    // force to new selection\n    var newSelection = new _draftJs.SelectionState({\n      anchorKey: blockKey,\n      anchorOffset: 0,\n      focusKey: blockKey,\n      focusOffset: 0\n    });\n    var newState = _draftJs.EditorState.push(editorState, contentStateAfterRemove, 'move-block');\n    setEditorState(_draftJs.EditorState.forceSelection(newState, newSelection));\n  }\n\n  return 'handled';\n};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}}],"sources":{"../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _draftJs = require('draft-js');\n\nvar _addBlock = require('./modifiers/addBlock');\n\nvar _addBlock2 = _interopRequireDefault(_addBlock);\n\nvar _removeBlock = require('./modifiers/removeBlock');\n\nvar _removeBlock2 = _interopRequireDefault(_removeBlock);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (selection, dataTransfer, isInternal, _ref) {\n  var getEditorState = _ref.getEditorState,\n      setEditorState = _ref.setEditorState;\n\n  var editorState = getEditorState();\n\n  // Get data 'text' (anything else won't move the cursor) and expecting kind of data (text/key)\n  var raw = dataTransfer.data.getData('text');\n  var data = raw ? raw.split(':') : [];\n\n  if (data.length !== 2) {\n    return undefined;\n  }\n\n  // Existing block dropped\n  if (data[0] === _constants.DRAFTJS_BLOCK_KEY) {\n    var blockKey = data[1];\n\n    // Get content, selection, block\n    var contentState = editorState.getCurrentContent();\n    var block = contentState.getBlockForKey(blockKey);\n    var entity = contentState.getEntity(block.getEntityAt(0));\n    var contentStateAfterInsert = (0, _addBlock2.default)(editorState, selection, block.getType(), entity.data, entity.type);\n    var contentStateAfterRemove = (0, _removeBlock2.default)(contentStateAfterInsert, blockKey);\n\n    // force to new selection\n    var newSelection = new _draftJs.SelectionState({\n      anchorKey: blockKey,\n      anchorOffset: 0,\n      focusKey: blockKey,\n      focusOffset: 0\n    });\n    var newState = _draftJs.EditorState.push(editorState, contentStateAfterRemove, 'move-block');\n    setEditorState(_draftJs.EditorState.forceSelection(newState, newSelection));\n  }\n\n  return 'handled';\n};"},"lineCount":58}},"error":null,"hash":"a3c1467855e04fc253186f08e1ceb290","cacheData":{"env":{}}}